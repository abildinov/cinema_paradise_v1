# üöÄ Cinema Paradise - VPS Deployment

–ì–æ—Ç–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è Cinema Paradise –Ω–∞ VPS —Å–µ—Ä–≤–µ—Ä–µ.

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è VPS
- **CPU**: 2+ —è–¥—Ä–∞
- **RAM**: 4+ GB  
- **–î–∏—Å–∫**: 20+ GB SSD
- **–û–°**: Ubuntu 20.04+ / CentOS 8+
- **–î–æ–º–µ–Ω**: –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π DNS

### 2. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
sudo usermod -aG docker $USER

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Compose
sudo curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose

sudo reboot
```

### 3. –î–µ–ø–ª–æ–π —Å–∏—Å—Ç–µ–º—ã

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
git clone https://github.com/YOUR_USERNAME/cinema-paradise.git
cd cinema-paradise/deployment

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp env.production.example .env.production
nano .env.production  # –ò–∑–º–µ–Ω–∏—Ç–µ DOMAIN, SECRET_KEY, EMAIL

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL
chmod +x setup-ssl.sh
./setup-ssl.sh

# –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
chmod +x deploy.sh
./deploy.sh
```

## üåê –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è —Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞:

- **üì± –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**: `https://your-domain.com/mobile/`
- **üåê –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: `https://your-domain.com/web/`  
- **üîó API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: `https://your-domain.com/api/docs`
- **üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: `http://your-domain.com:3001`

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–µ–ø–ª–æ—è

```
deployment/
‚îú‚îÄ‚îÄ üöÄ deploy.sh                     # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π
‚îú‚îÄ‚îÄ üîí setup-ssl.sh                  # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL
‚îú‚îÄ‚îÄ üíæ backup.sh                     # –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ üìÑ docker-compose.production.yml # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ üê≥ Dockerfile.production         # Production –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ üìÅ nginx/                        # Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ üìÅ monitoring/                   # Prometheus + Grafana
‚îú‚îÄ‚îÄ üîß env.production.example        # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
‚îî‚îÄ‚îÄ üìñ README.md                     # –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### ‚úÖ Production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å
- **HTTPS** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏
- **Security headers** –∏ rate limiting
- **Health checks** –∏ –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
- **Gzip —Å–∂–∞—Ç–∏–µ** –∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ

### ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏
- **Prometheus** –¥–ª—è —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫
- **Grafana** –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏** Docker
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–µ—Ä—Ç—ã**

### ‚úÖ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã** –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** –∏ SSL
- **–†–æ—Ç–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤**
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±–ª–∞—á–Ω—ã—Ö —Ö—Ä–∞–Ω–∏–ª–∏—â**

### ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **–û–¥–∏–Ω —Å–∫—Ä–∏–ø—Ç** –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞** SSL
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
- **–ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏** –ø—Ä–æ—Ü–µ—Å—Å–∞

## üõ†Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞
docker-compose -f docker-compose.production.yml ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose -f docker-compose.production.yml logs -f

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose -f docker-compose.production.yml restart

# –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
./backup.sh

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
git pull
./deploy.sh
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- **Grafana**: `http://your-domain.com:3001`
  - –õ–æ–≥–∏–Ω: `admin` 
  - –ü–∞—Ä–æ–ª—å: –∏–∑ `.env.production`

- **–ú–µ—Ç—Ä–∏–∫–∏**:
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
  - –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API
  - –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `deployment/README.md`

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker ps

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
docker logs cinema-api-prod

# –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL
openssl s_client -connect your-domain.com:443
```

## üéâ –ì–æ—Ç–æ–≤–æ!

–í–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ Cinema Paradise –≥–æ—Ç–æ–≤–∞ –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å:

- üîí **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é** (HTTPS, security headers)
- üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º** (Prometheus + Grafana)  
- üíæ **–ë—ç–∫–∞–ø–∞–º–∏** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ)
- üöÄ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é** (nginx, –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ, gzip)
- üîß **–ü—Ä–æ—Å—Ç–æ—Ç–æ–π** (–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–µ–ø–ª–æ–π)

**–°–∏—Å—Ç–µ–º–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –∏ –≥–æ—Ç–æ–≤–∞ –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π!** 